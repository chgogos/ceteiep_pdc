# OpenMP

## ΕΡΓΑΣΤΗΡΙΟ 4

**Παράδειγμα 1**

Δημιουργία ενός αριθμού νημάτων (ο αριθμός καθορίζεται από όρισμα της γραμμής εντολών) και εμφάνιση μηνύματος που περιέχει τον αριθμό νήματος για κάθε νήμα.

* [openmp_example01a.c](openmp_example01a.c)
* [openmp_example01b.c](openmp_example01b.c)

**Παράδειγμα 2**

Παραδείγματα με μεταβλητές private , firstprivate και shared.

* [openmp_example02a.c](openmp_example02a.c)
* [openmp_example02b.c](openmp_example02b.c)

**Παράδειγμα 3**

Υπολογισμός ορισμένου ολοκληρώματος συνάρτησης (σειριακός κώδικας). 

* [openmp_example03a.c](openmp_example03a.c)

Υπολογισμός ορισμένου ολοκληρώματος συνάρτησης (παράλληλος κώδικας).

* [openmp_example03b.c](openmp_example03b.c)

Υπολογισμός ορισμένου ολοκληρώματος συνάρτησης με χρήση reduction.

* [openmp_example03c.c](openmp_example03c.c)

## ΕΡΓΑΣΤΗΡΙΟ 5

**Παράδειγμα 4**

Δομές διαμοιρασμού εργασίας (single, sections, for)

* [openmp_example04a.c](openmp_example04a.c)

**Παράδειγμα 5**

Υπολογισμός του π με βάση τον τύπο:

* [openmp_example05a.c](openmp_example05a.c)

Υπολογισμός του π με βάση τον τύπο:

* [openmp_example05b.c](openmp_example05b.c)

**Παράδειγμα 6**

Χρονοπρογραμματισμός βρόχων. Επιλογή χρονοδιαγραμμάτων.

* [openmp_example06.c](openmp_example06.c)

## ΕΡΓΑΣΤΗΡΙΟ 6

**Παράδειγμα 7**

Ταξινόμηση odd-even

* [openmp_example07.c](openmp_example07.c)

**Παραδείγματα ανακεφαλαίωσης**

Άθροισμα στοιχείων πίνακα Ν θέσεων με τυχαίες τιμές 

* [openmp_example08.c](openmp_example08.c)

Άθροισμα ακέραιων τιμών από το 1 μέχρι το Ν

* [openmp_example09.c](openmp_example09.c)

---

## Ασκήσεις (και λύσεις)

**Άσκηση 1**

Να γράψετε πρόγραμμα που να δημιουργεί 5 νήματα. Το κάθε νήμα απλά να εμφανίζει έναν τυχαίο ακέραιο αριθμό στο διάστημα \[1,100\] και να τερματίζει. Γράψτε τις εντολές μεταγλώττισης και εκτέλεσης του προγράμματος.

* [openmp_exercise01.c](./openmp_exercise01.c)

**Άσκηση 2**

Να γράψετε πρόγραμμα που να δέχεται ως παράμετρο γραμμής εντολών έναν ακέραιο αριθμό και να εμφανίζει το άθροισμα όλων των θετικών ακεραίων που είναι μικρότεροι ή ίσοι του αριθμού αυτού (οι σχετικές μεταβλητές να δηλωθούν ως τύπου long long).  Για τον υπολογισμό του αθροίσματος να χρησιμοποιεί νήματα. Ο αριθμός των νημάτων θα περνά  επίσης ως παράμετρος γραμμής εντολών. Υπολογίστε το άθροισμα των πρώτων  10.000.000 ακέραιων αριθμών χρησιμοποιώντας 4 νήματα. Γράψτε τις εντολές μεταγλώττισης και εκτέλεσης του προγράμματος

* [openmp_exercise02.c](./openmp_exercise02.c)

**Άσκηση 3**

Να γράψετε πρόγραμμα που να γεμίζει με τυχαίες ακέραιες τιμές στο διάστημα \[1,10\] δύο διανύσματα 1000 θέσεων το καθένα και να υπολογίζει το εσωτερικό τους γινόμενο (http://mathinsight.org/dot_product_matrix_notation). Για τον υπολογισμό του εσωτερικού γινομένου η εργασία να «σπάσει»  σε 4 νήματα. 

* [openmp_exercise03.c](./openmp_exercise03.c)

**Άσκηση 4**

Σε έναν κύκλο με ακτίνα r η επιφάνεια του είναι πr^2 ενώ η επιφάνεια του περιγεγραμμένου στον κύκλο  τετραγώνου είναι 4r^2. Εξετάζοντας το λόγο της επιφάνειας του κύκλου προς την επιφάνεια του τετραγώνου προκύπτει ότι θα πρέπει να ισούται με π/4. Αν πραγματοποιηθεί ένα πείραμα στο οποίο θα μετρούνται πόσα από ένα σύνολο τυχαίων σημείων πέφτουν εντός του κύκλου τότε ο λόγος του πλήθους των τυχαίων σημείων εντός του κύκλου προς το συνολικό πλήθος σημείων θα πρέπει και αυτός να ισούται με π/4. Να γράψετε πρόγραμμα που να υπολογίζει χρησιμοποιώντας τον τρόπο που αναφέρθηκε τον αριθμό π. Η εργασία να μοιράζεται σε έναν αριθμό νημάτων. Εκτελέστε το πρόγραμμα για πλήθος 300.000.000 σημείων και για 8 νήματα.

* [openmp_exercise04.c](./openmp_exercise04.c)

**Άσκηση 5**

Γράψτε πρόγραμμα που να πραγματοποιεί 10.000 σειριακές αναζητήσεις σε ένα διάνυσμα με 1.000.000 τυχαίες τιμές. Γράψτε ισοδύναμο παράλληλο κώδικα.

* [openmp_exercise05.c](./openmp_exercise05.c)

---

## Εργασίες

* 2019-2020
  * [Εκφώνηση](https://chgogos.github.io/ceteiep_pdc/archive/lab2020/assignment2/20200424_assignment2.pdf)
  * [Λύση](https://chgogos.github.io/ceteiep_pdc/archive/lab2020/assignment2_sol/)
